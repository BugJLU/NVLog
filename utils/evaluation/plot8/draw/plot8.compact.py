import matplotlib.pyplot as plt
import numpy as np

data_usage = [0, 0.235996246, 1.030578613, 1.834846497, 2.634315491, 3.435066223, 4.217075348, 5.015518188, 5.818359375, 6.620410919, 7.416389465, 8.185691833, 8.56967926, 8.987167358, 9.412879944, 9.882183075, 10.69043732, 11.49692917, 12.3059082, 13.110466, 13.82367706, 14.33838272, 13.78195953, 14.55078506, 15.36562729, 16.17235184, 16.9818573, 17.76442719, 18.37937927, 18.74020004, 19.39118576, 20.1970787, 21.00083542, 13.07604218, 11.21910477, 11.87637711, 12.50849533, 13.1746254, 13.97740173, 14.77958298, 15.58003998, 16.38056183, 17.14107513, 17.80221939, 13.63576126, 12.40406036, 13.19989395, 13.99858475, 14.80820465, 15.60728836, 16.36712265, 16.90031815, 17.4756813, 18.13344574, 18.93307495, 17.32090759, 12.73812866, 13.53593063, 14.26829529, 14.9013176, 15.4706192, 16.15564728, 16.95719528, 17.75634003, 18.55119324, 19.34646606, 18.52209473, 12.21447372, 12.80012512, 13.51079941, 14.31494904, 15.11983871, 15.93005753, 16.7352066, 17.45443726, 18.04401779, 18.6232872, 19.33327484, 14.47307205, 15.26837921, 16.06563187, 16.86142349, 17.55071259, 18.13154221, 18.76512146, 19.49578476, 20.29293823, 21.08837891, 21.88508224, 16.19720459, 11.89653778, 12.54704285, 13.17378998, 13.90376282, 14.7114296, 15.52108383, 16.32811356, 17.11788177, 17.81468201, 18.38559723, 18.3789978, 13.99008942, 14.789711, 15.58731461, 16.38911819, 17.1854248, 17.87009048, 18.49716949, 19.10121155, 19.84177399, 20.64460754, 21.44639206, 11.65537643, 12.45111084, 13.18345642, 13.71045303, 14.35024643, 14.51803589, 14.51803589, 14.51803589, 14.51803589, 14.51803589, 14.52289963, 8.253173828, 7.649868011, 7.649868011, 7.649868011, 7.649868011, 7.649868011, 7.649868011, 7.649868011, 7.649868011, 7.649868011, 7.649868011, 1.321880341, 0.043498993, 0.043498993, 0.043498993, 0.043498993, 0.043498993, 0.043498993, 0.043498993, 0.043498993, 0.043498993, 0.043498993, 0.043498993, 0.043498993, 0.043498993, 0.043498993, 0.043498993]
data_thp = [789.6640625, 806.2734375, 798.0507813, 799.1875, 804.078125, 775.5429688, 804.9921875, 799.359375, 795.3242188, 801.3164063, 483.2265625, 380.2421875, 386.2734375, 345.0546875, 732.0390625, 805.546875, 809.8007813, 804.4492188, 803.6035156, 559.0546875, 401.5390625, 523.109375, 808.8867188, 809.953125, 808.4140625, 805.6679688, 712.703125, 433.6796875, 396.1015625, 780.3515625, 804.4453125, 802.1455078, 712.328125, 778.2734375, 590.2851563, 582.578125, 722.5351563, 801.2070313, 798.34375, 802.578125, 803.3828125, 710.2617188, 603.9179688, 488.7851563, 669.5820313, 801.3164063, 799.7890625, 808.5664063, 798.703125, 678.4570313, 523.4960938, 526.78125, 698.2851563, 805.7578125, 741.6132813, 779.5664063, 797.2070313, 671.6240234, 596.5, 562.296875, 699.8671875, 800.984375, 798.078125, 794.1640625, 795.171875, 669.609375, 535.328125, 559, 722.1552734, 803.9804688, 804.7695313, 810.2421875, 796.3398438, 699.9375, 564.2148438, 543.7382813, 704.3398438, 742.1132813, 796.2578125, 796.890625, 791.015625, 676.5507813, 553.1289063, 597.4414063, 718.6171875, 796.8828125, 795.234375, 796.5585938, 732.328125, 616.3085938, 621.265625, 604.2109375, 696.5947266, 806.8476563, 809.703125, 807.3476563, 802.1445313, 682.4101563, 538.3632813, 581.0742188, 601.3554688, 793.6015625, 798.4257813, 801.6640625, 800.4765625, 709.9638672, 617.5664063, 549.921875, 677.53125, 803.1679688, 805.8398438, 716.0625, 783.796875, 765.2539063, 576.9492188, 533.1445313, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

plt.rcParams['axes.xmargin'] = 0
plt.rcParams['axes.ymargin'] = 0
# plt.figure(figsize=(6, 3))
fig, axes = plt.subplots(2, 1, sharex=True, figsize=(6, 3))
# plt.subplots_adjust(wspace=0, hspace=0)
# plt.ylabel("NVM Usage (GB)")
plt.xlabel("Time (sec)")
# plt.ylim(top=20)
# plt.xticks(np.arange(6)*4+1, clusters)
# plt.ticklabel_format(axis='y', style='sci', scilimits=(0,0))
# plt.title(d)
# for i, clust in enumerate(clusters):
#     h = plt.bar(np.arange(3)+4*i, data[d][clust], color=colors, hatch=hatches, label=fsnames)

# plt.legend(h, fsnames)
# plt.plot(data)
axes[0].set_ylabel("NVM Usage (GB)")
axes[0].set_ylim(top=25)
axes[1].set_ylabel("Throughput (MB/s)")
axes[1].set_ylim(top=1000)
axes[0].plot(data_usage)
axes[1].plot(data_thp)

plt.savefig('gc-compact.pdf', bbox_inches='tight')